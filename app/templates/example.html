<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Yarn</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
          integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
            integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
            integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
            crossorigin="anonymous"></script>
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <style>
        .animate {
            position: fixed;
            bottom: 38px;
            right: -51px;
            width: 110%;
            height: 110%;
        }
    </style>
</head>
<body>
<div class="screens">
    {% include "slides/preferred-name.html" %}
    {% include "slides/family.html" %}
</div>

{% include "modals/family-member.html" %}

<script src="lib/js/head.min.js"></script>

<script>
    var slideConut = $('.screen').length;
    var slides = [];
    var current = 0;


    $('.screen').each(function (index, element) {
        $(element).hide();
        slides.push(element);
    });

    if (slideConut > 0) {
        $(slides[current]).show();
    }

    function nextSlide() {
        $(slides[current]).hide();
        $(slides[++current]).show();
    }

    function previousSlide() {
        $(slides[current]).hide();
        $(slides[--current]).show();
    }

    function gotoSlide(n) {
        if (n < 0 || n > slideConut) return;

        $('.screen').hide();
        $(slides[n]).show();
    }

    $('.next-slide').click(function (e) {
        nextSlide();
    });

    $('.previous-slide').click(function (e) {
        previousSlide();
    });

    var i = 0;
    function animate() {
        i+=0.1;
        $(".animate").each(function (index, element) {
            var posx = $(element).data("pos-x");
            var posy = $(element).data("pos-y");
            var hSpeed = $(element).data("h-speed");
            var vSpeed = $(element).data("v-speed");
            var hDistance = $(element).data("h-distance");
            var vDistance = $(element).data("v-distance");

            if (vDistance === 0)
            {
                $(element).css('top', posy);
            }
            else
            {
                $(element).css('top', posy + Math.sin(i*vSpeed/vDistance)*vDistance);
            }

            if (hDistance === 0)
            {
                $(element).css('left', posx);
            }
            else
            {
                $(element).css('left', posx +  Math.sin(i*hSpeed/hDistance)*hDistance);
            }

        });

        setTimeout(animate, 16);
    }

    animate();
</script>
</body>
</html>
